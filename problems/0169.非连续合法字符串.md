
# 169. 非连续合法字符串  

[题目链接](https://kamacoder.com/problempage.php?pid=1247) 


连续相同字母检查：在遍历字符串时，判断当前字符与后两个字符是否相同，如果是则删除一个字符（即从字符串中删除第三个连续的字符）。

"aabb" 模式检查：检查当前字符和后一个字符是否与其后两个字符构成 "aabb" 模式（即两个相同字符跟着另两个相同字符且这两组字符不同）。如果是则删除其中的一个字符。

累计删除次数：在上述操作中，每删除一个字符，就增加删除次数。


```CPP 
#include <iostream>
#include <string>

using namespace std;



int main() {
    string s;
    cin >> s;  // 输入字符串
    int n = s.length(); // 获取字符串的长度
    int deletions = 0;  // 记录删除的字符个数

    // 遍历字符串
    for (int i = 0; i < n; ++i) {
        // 步骤 1：检查是否有连续三个相同的字符
        if (i + 2 < n && s[i] == s[i + 1] && s[i] == s[i + 2]) {
            deletions++;  // 需要删除一个字符
            // 模拟删除第三个连续字符
            s.erase(i + 2, 1);
            n--;  // 删除后更新字符串长度
            i--;  // 重新检查当前字符位置
        }

        // 步骤 2：检查是否有 "aabb" 模式
        if (i + 3 < n && s[i] == s[i + 1] && s[i + 2] == s[i + 3] && s[i] != s[i + 2]) {
            deletions++;  // 需要删除一个字符
            // 模拟删除第四个字符
            s.erase(i + 3, 1);
            n--;  // 删除后更新字符串长度
            i--;  // 重新检查当前字符位置
        }
    }
    cout << deletions << endl;  // 输出最少需要删除的字符个数
    return 0;
}


```

时间复杂度：O(n)，只需遍历字符串一次，删除操作最多也是 O(n)，因此总复杂度为 O(n)，能够处理长度为 10^5 的输入。

空间复杂度：O(1)，只需常数级别的额外空间存储删除计数器和辅助变量。
